<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <!-- meta -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- título -->
  <title>InstalaFácil - Cadastro</title>
  <!-- estilo -->
  <link rel="stylesheet" href="style.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>

  <!-- ajuste -->
  <style>
  section.vh-100 {
      padding-top: 35px;
    }
  </style>

<!-- cabeçalho -->
<header>
  <nav class="navbar navbar-expand-lg fixed-top" 
       style="background-color: #ffffff; box-shadow: 0 4px 16px rgba(156, 58, 59, 0.15);">
    <div class="container-fluid position-relative">
      <!-- logo -->
      <a class="navbar-brand" href="index.html" style="margin-left: 35px;">
        <img src="img/logo_meensina (2).png" alt="Logo do site" class="img-fluid logo" style="width: 3em;" />
      </a>

      <!-- botão -->
      <button class="navbar-toggler" style="border-color: #000000;" type="button" 
        data-bs-toggle="collapse" data-bs-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Alternar navegação">
        <span class="navbar-toggler-icon"></span>
      </button>

      <!-- links -->
      <div class="collapse navbar-collapse justify-content-center" id="navbarNav">
        <ul class="navbar-nav d-flex flex-lg-row flex-column align-items-center gap-5 text-center">
          <li class="nav-item"><a class="nav-link" href="index.html"> Início</a></li>
          <li class="nav-item"><a class="nav-link" href="index.html"> Tutorial </a></li>
          <li class="nav-item"><a class="nav-link comunidade" href="index.html"> Contribuintes </a></li>
          <li class="nav-item"><a class="nav-link comunidade" href="contato.html"> Contato </a></li>
        </ul>
      </div>

      <!-- botões -->
      <div class="d-none d-lg-flex align-items-center gap-2 position-absolute end-0 me-4">
        <a class="btn perfil" href="login.html"> Entrar </a>
        <a class="btn sair" href="cadastro.html"> Cadastrar </a>
      </div>
    </div>
  </nav>
</header>

<!-- seção -->
<section class="vh-100" style="background-color: #ffffff;">
  <div class="container py-5 h-100">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col col-xl-10">
        <div class="card form11 shadow-lg" style="border-radius: 1rem;">
          <div class="row g-0">

            <!-- imagem -->
            <div class="col-md-6 col-lg-5 d-none d-md-block">
              <img src="img/homem2.png"
                alt="cadastro form" class="img-fluid" style="height: 100%; object-fit: cover;" />
            </div>

            <!-- formulário -->
            <div class="col-md-6 col-lg-7 d-flex align-items-center" style="background-color: #ffffff;">
              <div class="card-body p-4 p-lg-5 text-black">

                <!-- form -->
                <form id="formCadastro">
                  <!-- logo -->
                  <div class="text-center align-items-center mb-3 pb-1">
                    <span class="h1 fw-bold mb-0">
                      <img src="img/logo_meensina (2).png" alt="Logo" style="width: 120px; height: auto;">
                    </span>
                  </div>

                  <!-- título -->
                  <h5 class="fw-normal mb-3 pb-3" style="letter-spacing: 1px;">Crie sua conta</h5>

                  <!-- nome -->
                  <div class="form-outline mb-4">
                    <input type="text" id="nomeCadastro" class="form-control form-control-lg" placeholder="Nome" required />
                  </div>

                  <!-- email -->
                  <div class="form-outline mb-4">
                    <input type="email" id="emailCadastro" class="form-control form-control-lg" placeholder="E-mail" required />
                  </div>

                  <!-- senha -->
                  <div class="form-outline mb-4">
                    <input type="password" id="senhaCadastro" class="form-control form-control-lg" placeholder="Senha" required />
                  </div>

                  <!-- confirmar -->
                  <div class="form-outline mb-4">
                    <input type="password" id="confirmaSenhaCadastro" class="form-control form-control-lg" placeholder="Confirmar Senha" required />
                  </div>

                  <!-- botão -->
                  <div class="pt-1 mb-4">
                    <button class="btn btn-dark btn-lg btn-block" type="submit">Cadastrar</button>
                  </div>

                  <!-- mensagens -->
                  <div id="feedbackCadastro" class="text-center text-success mb-2" style="display: none;">Cadastro realizado com sucesso!</div>
                  <div id="erroCadastro" class="text-center text-danger mb-2" style="display: none;">Erro ao cadastrar. Verifique os dados.</div>

                  <!-- login -->
                  <p class="mb-5 pb-lg-2" style="color: #000;">Já tem uma conta?
                    <a href="login.html" style="color: #000; font-weight: 600;">Entre aqui</a>
                  </p>
                  <a href="#!" class="small" style="color: #000;">Termos de uso</a> · 
                  <a href="#!" class="small" style="color: #000;">Política de privacidade</a>
                </form>

              </div>
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- script -->
<script>
document.getElementById("formCadastro").addEventListener("submit", function(event){
  event.preventDefault();

  const nome = document.getElementById("nomeCadastro").value.trim();
  const email = document.getElementById("emailCadastro").value.trim();
  const senha = document.getElementById("senhaCadastro").value;
  const confirmaSenha = document.getElementById("confirmaSenhaCadastro").value;

  if(senha !== confirmaSenha){
    alert("As senhas não coincidem!");
    return;
  }

  fetch("https://68ecdd76eff9ad3b14039a17.mockapi.io/usuarios", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ nome, email, senha })
  })
  .then(response => {
    if(response.ok){
      document.getElementById("feedbackCadastro").style.display = "block";
      document.getElementById("erroCadastro").style.display = "none";
      this.reset();
    } else {
      throw new Error("Erro na requisição");
    }
  })
  .catch(error => {
    document.getElementById("erroCadastro").style.display = "block";
    document.getElementById("feedbackCadastro").style.display = "none";
    console.error(error);
  });
});
</script>

</body>
</html>
  